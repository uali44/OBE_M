<div class="tab-content main-tab-content dragging-area" style="padding:10px;">


  <div class="modal" id="dynamicModal" tabindex="-1" aria-labelledby="dynamicModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="dynamicModalLabel">Add Activities</h5>

        </div>
        <div class="container">
          <form [formGroup]="activityForm" (ngSubmit)="onSubmit()">
            <!-- Select Activity -->
            <div class="form-group">
              <label for="activity">Select Activity</label>
              <select id="activity" formControlName="activity" (change)="onActivityChange($event.target.value)" class="form-control">
                <option value="" disabled>Select an Activity</option>
                <option *ngFor="let activity of activities" [value]="activity.ActivityID">
                  {{ activity.ActivityName }}
                </option>
              </select>
            </div>

            <!-- Dynamic Fields -->
            <div *ngFor="let field of fields" class="form-group">
              <label [for]="field.subDtail">{{ field.subDetail }}</label>
              <input [type]="field.SubType"
                     [id]="field.subDetail"
                     class="form-control"
                     [formControlName]="field.subDetail"
                     [placeholder]="'Enter ' + field.subDetail" />
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary" [disabled]="!activityForm.valid">Submit</button>
            <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">Close</button>
          </form>
        </div>

      </div>
    </div>
  </div>





  <app-profile></app-profile>
  <br />
  <app-education></app-education>
  <br />
  <app-experience></app-experience>
  <br />

  <!-- cv-builder.component.html -->
  <!--cv-component.component.html-->
  <div class="tabs-menu">
    <ul class="nav nav-tabs" role="tablist">
      <li class="nav-item" *ngFor="let type of getActivityTypes()" style="background-color:lightblue;">
        <a class="nav-link"
           (click)="setActiveTab(type)"
           [class.active]="selectedTab === type"
           data-toggle="tab"
           [attr.href]="'#' + sanitizeType(type)"
           style="color: #1960a7"
           >
          <!--Dynamic href based on type-->
          <h4> {{ type }} </h4>
        </a>
      </li>
    </ul>
    </div>
    <!-- Tabs Content -->
    <div class="tab-content">
      <div *ngFor="let type of getActivityTypes()">
        <!--<div class="tab-pane "

         [class.show]="i === 0"
         [class.active]="i === 0"
         [attr.id]="sanitizeType(type)">-->
        <div class="tab-pane "
             *ngIf="selectedTab==type"
             [attr.id]="sanitizeType(type)">
          <br />
          <br />
          <!--Dynamic id based on type-->
          <h1>{{ type }}</h1>
          <br />
          <br />

          <div *ngFor="let activity of groupedActivities">

            <div *ngIf="activity.ActivityType === type">

              <!--Activity Title-->
              <h2>{{ activity.ActivityName }}</h2>

              <!--Activity Details Table-->
              <table class="table table-bordered table-hover table-theme margin-b30">
                <thead>
                  <tr>
                    <th *ngFor="let detailName of getDetailNames(activity)">
                      {{ detailName }}
                    </th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let detail of activity.Details">
                    <td *ngFor="let detailName of getDetailNames(activity)">
                      <a href="{{ detail.SubDetails[detailName] || '#' }}" target="_blank" *ngIf="detailName==='URL'">Click to visit :  </a>
                      {{ detail.SubDetails[detailName] || 'N/A' }}
                    </td>
                    <td>
                      <div class="pull-right">
                        <button type="button" class="btn btn-danger" (click)="deleteActivity(detail.DetailID)">
                          Delete

                        </button>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>

              <div class="pull-right">
                <button type="button" class="btn btn-info" (click)="openModal(activity.ActivityName)">

                  Add {{ activity.ActivityName  }}
                </button>
              </div>

              <br />
            </div>


          </div>
        </div>
      </div>
    </div>









  

    <div style="clear:both;"></div>
  <br />
  <br />
    <div class="pull-right">
      <button type="button" class="btn btn-info" data-toggle="modal" data-target="#dynamicModal">
        Add Activities
      </button>
    </div>










  </div>

