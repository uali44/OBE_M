<div class="tab-content main-tab-content dragging-area" style="padding:10px;">

  <!-- cv-builder.component.html -->
  <!-- cv-component.component.html -->
  <div class="cv-form-container">
    <h2>USER PROFILE</h2>

    <form [formGroup]="cvForm" (ngSubmit)="onSubmit()">
      <!-- Personal Information -->
      <div class="form-section">
        <h3>Personal Information</h3>

        <div class="form-group">
          <label for="fullName">Full Name</label>
          <input id="fullName" type="text" formControlName="fullName">
          <div class="error" *ngIf="isFieldInvalid('fullName')">
            Name is required
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" type="email" formControlName="email">
          <div class="error" *ngIf="isFieldInvalid('email')">
            Valid email is required
          </div>
        </div>

        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input id="phone" type="tel" formControlName="phoneNumber">
        </div>

        <div class="form-group">
          <label for="summary">Professional Summary</label>
          <textarea id="summary" formControlName="summary" rows="4"></textarea>
        </div>
      </div>

      <!-- Education -->
      <div class="form-section">
        <h3>Education</h3>
        <div formArrayName="education">
          <div *ngFor="let edu of educationArray.controls; let i=index">
            <div [formGroupName]="i" class="education-item">
              <div class="form-group">
                <label>Institution</label>
                <input type="text" formControlName="institution">
              </div>

              <div class="form-group">
                <label>Degree</label>
                <input type="text" formControlName="degree">
              </div>

              <div class="form-group">
                <label>Year</label>
                <input type="number" formControlName="year">
              </div>

              <button type="button" class="remove-btn" (click)="removeEducation(i)">Remove</button>
            </div>
          </div>
          <button type="button" class="add-btn" (click)="addEducation()">Add Education</button>
        </div>
      </div>

      <!-- Experience -->
      <div class="form-section">
        <h3>Work Experience</h3>
        <div formArrayName="experience">
          <div *ngFor="let exp of experienceArray.controls; let i=index">
            <div [formGroupName]="i" class="experience-item">
              <div class="form-group">
                <label>Company</label>
                <input type="text" formControlName="company">
              </div>

              <div class="form-group">
                <label>Position</label>
                <input type="text" formControlName="position">
              </div>

              <div class="form-group">
                <label>Duration</label>
                <input type="text" formControlName="duration">
              </div>

              <div class="form-group">
                <label>Description</label>
                <textarea formControlName="description" rows="3"></textarea>
              </div>

              <button type="button" class="remove-btn" (click)="removeExperience(i)">Remove</button>
            </div>
          </div>
          <button type="button" class="add-btn" (click)="addExperience()">Add Experience</button>
        </div>
      </div>

      <!-- Skills -->
      <div class="form-section">
        <h3>Role</h3>
        <div formArrayName="roles">
          <div *ngFor="let roles of rolesArray.controls; let i=index">
            <div [formGroupName]="i" class="roles-item">
             

              <div class="form-group">
                <label>Level</label>
                <select formControlName="level">
                  <option>SA</option>
                  <option>PA</option>
                  <option>SP</option>
                  <option>IP</option>
                  <option>Additional</option>
                </select>
              </div>

            <!--  <button type="button" class="remove-btn" (click)="removeRole(i)">Remove</button>-->
            </div>
          </div>
          <button type="button" class="add-btn" (click)="addRole()">Add Role</button>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" (click)="resetForm()">Reset</button>
        <button type="submit" [disabled]="!cvForm.valid">Save CV</button>
      </div>
    </form>
  </div>
</div>
